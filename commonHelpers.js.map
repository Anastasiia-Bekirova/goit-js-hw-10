{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst dateInput = document.querySelector('#datetime-picker');\nconst startBtn = document.querySelector('button[data-start]');\nconst numberOfDays = document.querySelector('.value[data-days]');\nconst numberOfHours = document.querySelector('.value[data-hours]');\nconst numberOfMinutes = document.querySelector('.value[data-minutes]');\nconst numberOfSeconds = document.querySelector('.value[data-seconds]');\n\nlet userSelectedDate = new Date();\n startBtn.setAttribute('disabled', true);\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n    onClose(selectedDates) {\n      console.log(selectedDates[0]);\n        if (selectedDates[0].getTime() <= Date.now()) {\n            startBtn.setAttribute('disabled', true);\n            iziToast.warning({\n    title: 'Caution',\n                message: 'Please choose a date in the future',\n    position: 'topCenter',\n});\n\n          \n      } else {\n          \n            startBtn.removeAttribute('disabled'); \n            userSelectedDate = selectedDates[0];\n        \n          \n      }\n  },\n};\nflatpickr('#datetime-picker', options);\n\nstartBtn.addEventListener('click', startingCountdown);\n\nfunction startingCountdown() {\n    startBtn.setAttribute('disabled', true);\n    dateInput.setAttribute('disabled', true);\n    const timerId = setInterval(() => {\n        let deltaTime = userSelectedDate.getTime() - Date.now();\n            \n        let timeRemained = convertMs(deltaTime);\n         if (deltaTime <= 0) {\n             clearInterval(timerId);\n             dateInput.removeAttribute('disabled');\n             \n         } else {\n               timeRemainedTimer(timeRemained);\n        }\n                   \n    }, 1000)\n    \n}\n\nfunction timeRemainedTimer(time) {\n    numberOfDays.textContent = addLeadingZero(time.days);\n    numberOfHours.textContent = addLeadingZero(time.hours);\n    numberOfMinutes.textContent = addLeadingZero(time.minutes);\n     numberOfSeconds.textContent = addLeadingZero(time.seconds);\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n return String(value).padStart(2, '0');\n}\n"],"names":["dateInput","startBtn","numberOfDays","numberOfHours","numberOfMinutes","numberOfSeconds","userSelectedDate","options","selectedDates","iziToast","flatpickr","startingCountdown","timerId","deltaTime","timeRemained","convertMs","timeRemainedTimer","time","addLeadingZero","ms","days","hours","minutes","seconds","value"],"mappings":"+IAKA,MAAMA,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAW,SAAS,cAAc,oBAAoB,EACtDC,EAAe,SAAS,cAAc,mBAAmB,EACzDC,EAAgB,SAAS,cAAc,oBAAoB,EAC3DC,EAAkB,SAAS,cAAc,sBAAsB,EAC/DC,EAAkB,SAAS,cAAc,sBAAsB,EAErE,IAAIC,EAAmB,IAAI,KAC1BL,EAAS,aAAa,WAAY,EAAI,EACvC,MAAMM,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACf,QAAQC,EAAe,CACrB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EACtBA,EAAc,CAAC,EAAE,QAAO,GAAM,KAAK,OACnCP,EAAS,aAAa,WAAY,EAAI,EACtCQ,EAAS,QAAQ,CACzB,MAAO,UACK,QAAS,qCACrB,SAAU,WACd,CAAC,IAKWR,EAAS,gBAAgB,UAAU,EACnCK,EAAmBE,EAAc,CAAC,EAI3C,CACH,EACAE,EAAU,mBAAoBH,CAAO,EAErCN,EAAS,iBAAiB,QAASU,CAAiB,EAEpD,SAASA,GAAoB,CACzBV,EAAS,aAAa,WAAY,EAAI,EACtCD,EAAU,aAAa,WAAY,EAAI,EACvC,MAAMY,EAAU,YAAY,IAAM,CAC9B,IAAIC,EAAYP,EAAiB,QAAS,EAAG,KAAK,IAAG,EAEjDQ,EAAeC,EAAUF,CAAS,EACjCA,GAAa,GACb,cAAcD,CAAO,EACrBZ,EAAU,gBAAgB,UAAU,GAGlCgB,EAAkBF,CAAY,CAGxC,EAAE,GAAI,CAEX,CAEA,SAASE,EAAkBC,EAAM,CAC7Bf,EAAa,YAAcgB,EAAeD,EAAK,IAAI,EACnDd,EAAc,YAAce,EAAeD,EAAK,KAAK,EACrDb,EAAgB,YAAcc,EAAeD,EAAK,OAAO,EACxDZ,EAAgB,YAAca,EAAeD,EAAK,OAAO,CAC9D,CAEA,SAASF,EAAUI,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASL,EAAeM,EAAO,CAC9B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACrC"}